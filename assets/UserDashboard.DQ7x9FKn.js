import{j as e}from"./jsx-runtime.D3GSbgeI.js";import{T as v,u as x,a as C}from"./ToastAssets.CAm3uc4W.js";import{R as f}from"./index.DuP_GS2H.js";import{$ as u}from"./User.store.CuUyRpJI.js";import{B as g}from"./ButtonPromise.BtcJFjay.js";import{U as c}from"./index.R4wtpmkS.js";import"./index.yBjzXJbu.js";function N({children:s,className:t,style:n}){return e.jsx("div",{className:t||"f-row f-align-center g-2 tab-list",style:n,children:s})}function d(s){const{select:t,setSelect:n,customize:i}=f.useContext(v),a=t===s.id,l="tab-item d-flex btn-fourth br-8 pointer fs-2 o-hidden",h=a?i?.activeItem?.className||s.className||`${l} active-tab`:s.className||l,r=a&&i?.activeItem?.style||s.style;return e.jsx("span",{className:l+` ${a?h:""}`,onClick:()=>n(s.id),style:r,children:s.custom||e.jsx("span",{className:"p-2",children:s.text||s.id})})}function m(s){const{select:t,customize:n}=f.useContext(v);return t!==s.id?null:e.jsx("div",{className:n?.content?.className||"tab-content p-3 f-col h-100 w-100 br-10 o-auto",style:n?.content?.style,children:s.children||`Contenido para ${s.id}`})}function w(){const s=x(u),t=f.useRef(null),n=a=>{const l=a.match(/video\/(\d+)/);return l?l[1]:null},i=async a=>{const l=n(a);if(!l){c.toast.error("URL inválida.");return}const r=await(await fetch(`https://app-mroiudgeuq-uc.a.run.app/videos/?uid=${s.uid}&save=true&vid=`+l)).json();if(!r.videos.length){c.toast.error("No se encontró el video en la cuenta.");return}c.toast.show(r.msg),t.current.value="",console.log(r)};return e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:"https://www.tiktok.com/@username/video/xxxxxxxxxxxxxxxxx",className:"f-grow",ref:t}),e.jsx(g,{text:"Enviar",onClick:async()=>{if(t.current){if(!t.current.value){c.toast.error("URL no puede estar vacía");return}await i(t.current.value)}}})]})}const p={like:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[e.jsxs("g",{children:[e.jsx("g",{children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 2.25C10.5 2.25 12 4.25 12 4.25C12 4.25 13.5 2.25 16.5 2.25C20 2.25 22.5 4.99999 22.5 8.5C22.5 12.5 19.2311 16.0657 16.25 18.75C14.4095 20.4072 13 21.5 12 21.5C11 21.5 9.55051 20.3989 7.75 18.75C4.81949 16.0662 1.5 12.5 1.5 8.5C1.5 4.99999 4 2.25 7.5 2.25Z"})}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.40179 12.1998C3.58902 14.6966 5.7592 16.9269 7.74989 18.75C9.5504 20.3989 10.9999 21.5 11.9999 21.5C12.9999 21.5 14.4094 20.4072 16.2499 18.75C19.231 16.0657 22.4999 12.5 22.4999 8.49997C22.4999 8.41258 22.4983 8.32566 22.4952 8.23923C20.5671 13.6619 13.6787 18.5 11.75 18.5C10.3127 18.5 5.61087 15.8131 2.40179 12.1998Z",fillOpacity:"0.03"})]})," "]}),comment:e.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.5 2 2 6.5 2 12c0 2.3.8 4.5 2.3 6.3l-2 2c-.4.4-.4 1 0 1.4.2.2.4.3.7.3h9c5.5 0 10-4.5 10-10S17.5 2 12 2zM8 13c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm4 0c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm4 0c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"})}),share:e.jsx("svg",{viewBox:"0 0 512 512",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M512 230.431 283.498 44.621v94.807C60.776 141.244-21.842 307.324 4.826 467.379c48.696-99.493 149.915-138.677 278.672-143.14v92.003L512 230.431z"})}),view:e.jsx("svg",{viewBox:"0 0 48 48",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 10.554V37.4459L38.1463 24L16 10.554ZM12 8.77702C12 6.43812 14.5577 4.99881 16.5569 6.21266L41.6301 21.4356C43.5542 22.6038 43.5542 25.3962 41.6301 26.5644L16.5569 41.7873C14.5577 43.0012 12 41.5619 12 39.223V8.77702Z"})})};function o({icon:s="like",size:t=24,...n}){const i=p[s||"like"];return i?e.jsx("span",{className:`tiktok-icon ${n.className||""}`,style:{height:t,width:t,...n.style},children:i}):null}function b(){return e.jsxs("div",{className:"revisar-video-detail f-col g-2 mb-2 select",children:[e.jsx("span",{className:"fs-2",children:"Subir URL del video"}),e.jsx("div",{className:"f-row f-justify-between f-align-center f-grow g-6",children:e.jsx(w,{})})]})}function j({...s}){const t=x(u),n=async()=>{await new Promise(i=>setTimeout(i,500)),s.role!=="user"?c.Dialog.custom(e.jsx(b,{}),{animate:{start:{top:"5rem",left:"5rem"},end:{top:"0rem",left:"0rem"}}}):c.Dialog.show({title:"Importante",message:"Enviar a revision cuando llegue a"})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"video-detail-row f-row f-justify-between g-2 px-4 py-3 br-8 mb-1",children:[e.jsxs("div",{className:"f-row g-4 fs-2 f-nowrap f-align-center",children:[t.role==="user"&&e.jsx("div",{children:e.jsx("span",{className:"d-flex f-center br-50 o-hidden",children:e.jsx("img",{height:30,width:30,src:t.avatar_url_100,alt:t.username})})}),e.jsxs("div",{className:"video-detail-desc f-col fs-custom-13-5 g-1",children:[e.jsx("span",{className:"fs-custom-15",children:"Title of video"}),e.jsx("span",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Nostrum, laboriosam."})]})]}),e.jsxs("div",{className:"f-row g-5 fs-2 f-center",children:[e.jsxs("span",{className:"f-col g-1 f-center no-select ",children:[e.jsx(o,{icon:"view",size:23}),e.jsx("span",{className:"fs-1 fw-600 mt-1",children:"86K"})]}),e.jsxs("span",{className:"f-col g-1 f-center no-select ",children:[e.jsx(o,{icon:"like",size:23}),e.jsx("span",{className:"fs-1 fw-600 mt-1",children:"50K"})]}),e.jsxs("span",{className:"f-col g-1 f-center no-select ",children:[e.jsx(o,{icon:"comment",size:23}),e.jsx("span",{className:"fs-1 fw-600 mt-1",children:"50K"})]}),e.jsxs("span",{className:"f-col g-1 f-center no-select ",children:[e.jsx(o,{icon:"share",size:23}),e.jsx("span",{className:"fs-1 fw-600 mt-1",children:"156"})]}),e.jsx(g,{className:"tt-primary br-4 fs-custom-15 btn",id:`video${s.id}`,text:s.role==="user"?"Enviar":"Detalles",stroke:"#FFF",onClick:async()=>{await n()}})]})]})})}function E(){const s=x(u);return e.jsx(e.Fragment,{children:e.jsxs(C,{default:"1",customize:{content:{className:"mt-3 f-col g-2"}},children:[e.jsxs(N,{children:[e.jsx(d,{id:"1",text:"Enviar link"}),e.jsx(d,{id:"2",text:"En revision"}),e.jsx(d,{id:"3",text:"Mis videos"})]}),e.jsx(m,{id:"1",children:e.jsxs("section",{className:"f-col g-2 mb-2",children:[e.jsx("span",{className:"fs-2",children:"Obtener video mediante URL"}),e.jsx("div",{className:"f-row f-justify-between f-align-center f-grow g-6",children:e.jsx(w,{})})]})}),e.jsx(m,{id:"2"}),e.jsxs(m,{id:"3",children:[e.jsx(j,{role:s.role}),e.jsx(j,{role:"admin"})]})]})})}export{E as default};
