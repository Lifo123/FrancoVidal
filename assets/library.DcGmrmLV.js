import{j as s}from"./jsx-runtime.D3GSbgeI.js";import{u as v,C as T,$ as w,b as N,L as E,c as C,t as b}from"./ToastAssets.DyaLsPIA.js";import{R as n}from"./index.DuP_GS2H.js";import{B as I}from"./ButtonPromise.b5vnahBF.js";import{C as $}from"./CloseBtn.DLW6WuGE.js";import"./index.yBjzXJbu.js";const x=(t,a)=>{const i=a instanceof HTMLElement?a:document.documentElement,e=window.innerWidth-i.clientWidth;document.documentElement.style.setProperty("--padding-cut",`${e}px`),t?(i.style.overflow="",i.style.paddingRight=""):(i.style.overflow="hidden",i.style.paddingRight=`${e}px`)},g={set:x,show:t=>x(!0,t),hide:t=>x(!1,t)};function z(t){const a=v(w);return n.useEffect(()=>{a.card_loading?g.hide():g.show()},[a.card_loading]),s.jsx("span",{className:`flifo-portal fixed d-flex f-center ${a.card_loading?"visible":"delete"}`,style:{pointerEvents:a.card_loading?"visible":"none",backgroundColor:t?.style?.backgroundColor||"#0000003b",...t.style},children:a.card_loading&&(t.custom||s.jsx("div",{className:"card-loading d-flex f-center relative fixed br-10 p-3",children:s.jsx(T,{size:26,stroke:"rgb(var(--lb-black))"})}))})}function B({toastID:t="init",position:a="top-center",duration:i=2500,animation:e="slide",maxToasts:c=3,...r}){const f=v(N);if(!f[t])return;const l=f[t];return s.jsx("span",{className:"flifo-portal fixed no-select","data-toaster-id":t,children:l.map((d,u)=>s.jsx(k,{index:u,toastID:t,position:a,duration:i,animation:e,maxToasts:c,avalibleToasts:l.length,...d},d.id))})}const k=({scaleOffset:t="center",maxToasts:a,index:i,...e})=>{const[c,r]=n.useState(!1),[f,l]=n.useState(!1),d=(o,m)=>m?Object.entries(m).reduce((h,[j,y])=>(h[`${o}${j}`]=String(y),h),{}):{},u={...d("--custom-start-",e.animate?.start),...d("--custom-end-",e.animate?.end)};return n.useEffect(()=>{e.avalibleToasts>a&&i===0&&r(!1)},[i,a,e.avalibleToasts]),n.useEffect(()=>{if(!(e.state!==!1))r(!1);else{const m=setTimeout(()=>r(!0),50);return()=>clearTimeout(m)}},[e.state]),n.useEffect(()=>{if(e.noDissapear)return;const o=setTimeout(()=>{r(!1)},e.duration);return()=>clearTimeout(o)},[e.duration,e.noDissapear]),n.useEffect(()=>{if(!c){const o=setTimeout(()=>{E.removeDelay(e.toastID,e.id,0)},350);return()=>clearTimeout(o)}},[c,e.toastID,e.id]),s.jsx("div",{className:`toast-container d-flex f-center w-max h-max select ${c?"visible":"delete"} ${e.theme||""} absolute`,"data-axis-y":e.position?.split("-")[0],"data-axis-x":e.position?.split("-")[1],"data-scale-offset":t,"data-animation":e?.animation,style:{zIndex:f?"inherit":0,...u},onMouseEnter:()=>e.noDissapear?null:l(!0),onMouseLeave:()=>l(!1),children:e?.children&&e.children||s.jsxs("span",{className:"toast-item f-row f-justify-between f-align-center br-6 sd-1",children:[s.jsxs("div",{className:"f-row g-1 f-center",children:[e.customIcon||e.icon||e.type&&s.jsx("span",{className:"toast-icon mr-2 d-flex f-center",children:e.customIcon?e.customIcon:C[e.type]}),s.jsxs("div",{className:"f-col f-justify-center",children:[e.title&&s.jsx("h3",{className:"fs-custom-14-5",style:{color:"rgb(var(--lb-title))"},children:e?.title}),s.jsx("p",{className:"fs-2 m-0",style:{fontWeight:"450"},children:e?.message}),e.href&&s.jsx("a",{className:"info fs-custom-13 br-6 w-max",href:e.href,children:"More"})]})]}),e.customAction?e.customAction:e.action?s.jsx(I,{className:"fs-custom-12-5 pointer btn-secondary br-6",text:e.actionText||"Continue",size:16,style:{padding:".3rem .65rem"},stroke:"rgb(var(--lb-white))",onClick:async()=>{l(!0),await e.action(),b.dismiss(e.toastID,e.id)}}):e.closeBtn?s.jsx("span",{className:"ml-3 d-block",onClick:()=>{b.dismiss(e.toastID,e.id)},children:s.jsx($,{size:24})}):null]})})};export{z as CardLoading,B as Toaster};
