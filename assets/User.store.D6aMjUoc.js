import{d as s}from"./ToastAssets.CAm3uc4W.js";const n="/FrancoVidal",o="FV-User",a=s();if(typeof window<"u"){const t=localStorage.getItem(o);if(t)try{const e=JSON.parse(t);e?(a.setKey("tiktok",e.tiktok),r()):localStorage.removeItem(o)}catch{console.warn("Invalid user data in localStorage"),localStorage.removeItem(o)}a.subscribe(e=>{e&&Object.keys(e).length>0&&localStorage.setItem("FV-User",JSON.stringify({}))})}function r(){const t=a.get();Date.now()>t.expires_in&&(localStorage.removeItem(o),window.location.href=`${n}/auth/login`)}const c=()=>{localStorage.removeItem(o),window.location.reload()},i={logOut:c};export{a as $,i as U};
