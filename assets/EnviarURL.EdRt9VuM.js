import{j as e}from"./jsx-runtime.D3GSbgeI.js";import{u as c}from"./index.CdAc6mVA.js";import"./ToastAssets.LNefn64J.js";import{B as x}from"./ButtonPromise.Cy1YGpV7.js";import{R as m}from"./index.DuP_GS2H.js";import{U as o}from"./index.DtbexW3H.js";import{$ as p}from"./User.store.BbbOi5bI.js";import"./index.yBjzXJbu.js";function g(){const n=c(p),t=m.useRef(null),i=a=>{const r=a.match(/video\/(\d+)/);return r?r[1]:null},u=async a=>{const r=i(a);if(!r){o.toast.error("URL inválida.");return}const s=await(await fetch(`https://app-mroiudgeuq-uc.a.run.app/videos/?uid=${n.uid}&save=true&vid=`+r)).json();if(!s.videos.length){o.toast.error("No se encontró el video en la cuenta.");return}o.toast.show(s.msg),t.current.value=""};return e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:"https://www.tiktok.com/@username/video/xxxxxxxxxxxxxxxxx",className:"f-grow",ref:t}),e.jsx(x,{text:"Enviar",onClick:async()=>{if(t.current){if(!t.current.value){o.toast.error("URL no puede estar vacía");return}await u(t.current.value)}}})]})}export{g as default};
