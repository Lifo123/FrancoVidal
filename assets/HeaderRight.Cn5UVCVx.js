import{j as e}from"./jsx-runtime.D3GSbgeI.js";import{u as E,g as j,h as R,S as C}from"./ToastAssets.CAm3uc4W.js";import{r as l,R as k}from"./index.DuP_GS2H.js";import{U as y,$ as D}from"./User.store.D6aMjUoc.js";import"./index.yBjzXJbu.js";function S({storage:t="F-Theme",size:r=22}){const s=E(R),i=s==="system"?j.preferTheme():s==="dark";return e.jsx("span",{className:"lb-dm-icon-toggle icon d-flex f-center pointer br-6",onClick:()=>j.toggle(t),children:i?e.jsx("svg",{height:r,viewBox:"-5.5 0 32 32",stroke:"none",fill:"var(--f-p-text)",children:e.jsx("g",{children:e.jsx("path",{d:"M11.875 6v2.469c0 0.844-0.375 1.25-1.156 1.25s-1.156-0.406-1.156-1.25v-2.469c0-0.813 0.375-1.219 1.156-1.219s1.156 0.406 1.156 1.219zM14.219 9.25l1.438-2.031c0.469-0.625 1.063-0.75 1.656-0.313s0.656 1 0.188 1.688l-1.438 2c-0.469 0.688-1.031 0.75-1.656 0.313-0.594-0.438-0.656-0.969-0.188-1.656zM5.781 7.25l1.469 2c0.469 0.688 0.406 1.219-0.219 1.656-0.594 0.469-1.156 0.375-1.625-0.313l-1.469-2c-0.469-0.688-0.406-1.219 0.219-1.656 0.594-0.469 1.156-0.375 1.625 0.313zM10.719 11.125c2.688 0 4.875 2.188 4.875 4.875 0 2.656-2.188 4.813-4.875 4.813s-4.875-2.156-4.875-4.813c0-2.688 2.188-4.875 4.875-4.875zM1.594 11.813l2.375 0.75c0.781 0.25 1.063 0.719 0.813 1.469-0.219 0.75-0.75 0.969-1.563 0.719l-2.313-0.75c-0.781-0.25-1.063-0.75-0.844-1.5 0.25-0.719 0.75-0.938 1.531-0.688zM17.5 12.563l2.344-0.75c0.813-0.25 1.313-0.031 1.531 0.688 0.25 0.75-0.031 1.25-0.844 1.469l-2.313 0.781c-0.781 0.25-1.281 0.031-1.531-0.719-0.219-0.75 0.031-1.219 0.813-1.469zM10.719 18.688c1.5 0 2.719-1.219 2.719-2.688 0-1.5-1.219-2.719-2.719-2.719s-2.688 1.219-2.688 2.719c0 1.469 1.188 2.688 2.688 2.688zM0.906 17.969l2.344-0.75c0.781-0.25 1.313-0.063 1.531 0.688 0.25 0.75-0.031 1.219-0.813 1.469l-2.375 0.781c-0.781 0.25-1.281 0.031-1.531-0.719-0.219-0.75 0.063-1.219 0.844-1.469zM18.219 17.219l2.344 0.75c0.781 0.25 1.063 0.719 0.813 1.469-0.219 0.75-0.719 0.969-1.531 0.719l-2.344-0.781c-0.813-0.25-1.031-0.719-0.813-1.469 0.25-0.75 0.75-0.938 1.531-0.688zM3.938 23.344l1.469-1.969c0.469-0.688 1.031-0.781 1.625-0.313 0.625 0.438 0.688 0.969 0.219 1.656l-1.469 1.969c-0.469 0.688-1.031 0.813-1.656 0.375-0.594-0.438-0.656-1.031-0.188-1.719zM16.063 21.375l1.438 1.969c0.469 0.688 0.406 1.281-0.188 1.719s-1.188 0.281-1.656-0.344l-1.438-2c-0.469-0.688-0.406-1.219 0.188-1.656 0.625-0.438 1.188-0.375 1.656 0.313zM11.875 23.469v2.469c0 0.844-0.375 1.25-1.156 1.25s-1.156-0.406-1.156-1.25v-2.469c0-0.844 0.375-1.25 1.156-1.25s1.156 0.406 1.156 1.25z"})})}):e.jsx("svg",{height:r,viewBox:"-5 -4 26 26",fill:"var(--vscode-description-foreground)",stroke:"none",children:e.jsxs("g",{children:[e.jsx("path",{d:"M0 8.00002C0 4.75562 1.93132 1.9623 4.70701 0.707031L5.65436 1.65438C5.2352 2.51383 5 3.47946 5 4.50002C5 8.08987 7.91015 11 11.5 11C12.5206 11 13.4862 10.7648 14.3456 10.3457L15.293 11.293C14.0377 14.0687 11.2444 16 8 16C3.58172 16 0 12.4183 0 8.00002Z"}),e.jsx("path",{d:"M11.5 7.00003L9 4.50003L11.5 2.00003L14 4.50003L11.5 7.00003Z"})]})})})}function $(t){return e.jsx("span",{className:"dropdown-item pointer br-6 fs-2",onClick:async()=>{await t.onClick?.(),t.close?.(!1)},children:t.text})}function N({items:t,close:r}){return e.jsx("ul",{className:"dropdown-section f-col",children:t.map((s,i)=>e.jsx($,{...s,close:r},i))})}function O({frezzeScroll:t=!0,...r}={}){const[s,i]=l.useState(!1),[f,u]=l.useState(!1),[h,w]=l.useState("down"),a=l.useRef(null),p=l.useRef(null),d=r.margin!==void 0?r.margin:8,g=()=>{const n=a.current,o=p.current;if(!n||!o)return;const c=n.getBoundingClientRect(),x=o.offsetHeight,b=window.innerHeight-c.bottom,L=c.top,v=x>b&&L>b;w(v?"up":"down");const z=v?c.top-d*2:window.innerHeight-c.bottom-d*2,M=v?Math.max(d,c.top-x-d):Math.min(c.bottom+d,window.innerHeight-x-d);Object.assign(o.style,{top:`${M+window.scrollY}px`,left:`${c.left+window.scrollX}px`,minWidth:`${c.width}px`,maxHeight:`${z}px`,overflowY:"auto",zIndex:"999"})},m=n=>{n?i(!0):u(!1);const o=setTimeout(()=>{n?u(!0):i(!1)});return t&&C[n?"hide":"show"](),()=>clearTimeout(o)};return l.useEffect(()=>{if(!s)return;const n=o=>{const c=o.target;!p.current?.contains(c)&&!a.current?.contains(c)&&m(!1)};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[s]),l.useLayoutEffect(()=>{if(!s)return;g();const n=()=>g(),o=new ResizeObserver(()=>g());return window.addEventListener("scroll",n,!0),window.addEventListener("resize",n),a.current&&o.observe(a.current),()=>{window.removeEventListener("scroll",n,!0),window.removeEventListener("resize",n),o.disconnect()}},[s]),l.useEffect(()=>{const n=()=>m(!1),o=()=>{document.hidden&&m(!1)};return window.addEventListener("blur",n),document.addEventListener("visibilitychange",o),()=>{window.removeEventListener("blur",n),document.removeEventListener("visibilitychange",o)}},[]),{isVisible:s,isAnim:f,btnRef:a,dropdownRef:p,toggle:m,openDirection:h}}function H({...t}){const{isVisible:r,isAnim:s,btnRef:i,dropdownRef:f,toggle:u,openDirection:h}=O({...t});return e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"d-flex w-max",onClick:()=>u(!r),ref:i,children:t.custom||e.jsx("span",{className:"d-flex relative br-6 btn btn-secondary pointer",children:t.text||"Open Dropdown"})}),r&&e.jsxs("div",{className:`dropdown-content absolute ${t.className||"f-col o-hidden br-10"} ${s?" visible":" delete"}`,ref:f,style:{...t.style,transformOrigin:`${h!=="up"?"top":"bottom"} center`},children:[t.title&&e.jsx("p",{className:"dropdown-head fs-2 fw-600 m-0",children:t.title}),t.items?.map((w,a)=>e.jsx(N,{items:w,close:u},a))]})]})}function V(){const t=E(D);return k.useEffect(()=>{document.querySelectorAll('[data-user-pfp="true"]').forEach(s=>{const i=s;i.src=t.avatar_url_100,i.alt=t.username+"'s avatar"})},[]),e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsx(H,{custom:e.jsx("img",{className:"icon-btn br-50 d-flex f-center p-1",height:34,width:34,"data-user-pfp":"true"}),items:[[{text:"Logout",onClick:y.logOut}]]})]})}export{V as default};
